doctype html
html
  head
    meta(charset="utf-8")
    title= title

    style.
      body {
        margin: 0;
        padding: 0;
      }
      h1 {
        color: #333;
        font-size: 3em;
        text-align: center; 
      }
      h5 {
        margin: 30px 0px;
        text-align: center; 
        font-size: 1.25em;
      }
      a {
        text-decoration: none;
        color: #369;
      }
      a:hover {
        color: #936;
      }
      .main {
        display: block;
        margin: 0;
        padding: 20px;
        /* Following properties control text never flow out of div box */
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .helps {
        padding: 50px 30px;
        line-height: 180%;
        clear: both;
        display: block;
      }
      ul, ol { list-style: none; }
      .emoji_list li {
        float: left;
        width: 60px;
        height: 60px;
        font-size: 24px;
        text-align: center;
        cursor: pointer;
      }
      .emoji_list li:hover {
        font-size: 36px;
        text-align: center;
      }
      .footer {
        margin: 0px 10px;
        padding: 50px 0px;
        text-align: center;
        font-size: 1.25em;
      }

      /* Fixed Popup container */
      .popup {
        position: fixed;
        opacity: 95%;
      }
      /* The actual popup (appears on top) */
      .popup .popuptext {
        top: 30px;
        left: calc(100vw - 170px);
        visibility: hidden;
        width: 138px;
        height: 1.8rem;
        background-color: #031;
        font-size: 1rem;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 8px 0;
        position: absolute;
        z-index: 1;
      }
      .popup .popuptext span:nth-child(1) {
        font-size: 1.25rem;
        font-weight: 400;
        color: #ff0;
        margin-right: 10px;
      }
      /* Toggle this class when clicking on the popup container (hide and show the popup) */
      .popup .show {
        visibility: visible;
        -webkit-animation: fadeIn .5s;
        animation: fadeIn .5s
      }
      /* Add animation (fade in the popup) */
      @-webkit-keyframes fadeIn {
        from {opacity: 0;}
        to {opacity: 1;}
      }
      @keyframes fadeIn {
        from {opacity: 0;}
        to {opacity:1 ;}
      }
  body
    div.popup
      span#fixedpopup.popuptext 
        span _replace_by_copied_emoji_
        span Copied.
    div.main
      h1= name
      if (!downloadflag)
        h5
          a(href="fixed/download") Download This Html Page
      div
        ul.emoji_list.clear
          each item in codesjson
            li(onclick=`copyToClipboard(String.fromCodePoint(0x${item.replace(/ /g,',0x')}))`)= eval(`String.fromCodePoint(0x${item.replace(/ /g,',0x')})`)
      div.helps
        strong Reference：
        br
        span Emoji Set：
          a(href=link, target="_blank")
            b= name
        br
        span Emojis Count： #{codesjson.length}

      div.footer
        if (!downloadflag)
          a(href="javascript:history.back();") BACK TO LAST PAGE
        else
          span Generated by 
            b= title
    script.
      const fixedPopup = document.getElementById("fixedpopup");
      let oldTimeout = undefined; 

      function copyToClipboard(value) {
        navigator.clipboard.writeText(value);
        fixedPopup.firstElementChild.innerText = value;
        if (oldTimeout === undefined) {
          fixedPopup.classList.add("show");
          oldTimeout = setTimeout(hidePopup, 5000)
        } else {
          clearTimeout(oldTimeout);
          oldTimeout = setTimeout(hidePopup, 5000)
        }
      }

      function hidePopup() {
        fixedPopup.classList.remove("show");
        oldTimeout = undefined;
      }