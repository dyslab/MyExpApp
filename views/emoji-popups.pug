doctype html
html
  head
    meta(charset="utf-8")
    title= title

    style.
      body {
        margin: 0;
        padding: 0;
      }
      h1 {
        color: #333;
        font-size: 3em;
        text-align: center; 
      }
      h5 {
        margin: 30px 0px;
        text-align: center; 
        font-size: 1.25em;
      }
      a {
        text-decoration: none;
        color: #369;
      }
      a:hover {
        color: #936;
      }
      .main {
        display: block;
        margin: 0;
        padding: 20px;
        /* Following properties control text never flow out of div box */
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .helps {
        padding: 50px 30px;
        line-height: 180%;
        clear: both;
        display: block;
      }
      ul, ol { list-style: none; }
      .emoji_list li {
        float: left;
        width: 60px;
        height: 60px;
        font-size: 24px;
        text-align: center;
        cursor: pointer;
      }
      .emoji_list li:hover {
        font-size: 36px;
        text-align: center;
      }
      .footer {
        margin: 0px 10px;
        padding: 50px 0px;
        text-align: center;
        font-size: 1.25em;
      }

      /* Popup container */
      .popup {
        position: relative;
        display: inline-block;
        cursor: pointer;
      }
      /* The actual popup (appears on top) */
      .popup .popuptext {
        visibility: hidden;
        width: 120px;
        background-color: #555;
        font-size: 1rem;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 8px 0;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        margin-left: -60px;
      }
      /* Popup arrow */
      .popup .popuptext::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: #555 transparent transparent transparent;
      }
      /* Toggle this class when clicking on the popup container (hide and show the popup) */
      .popup .show {
        visibility: visible;
        -webkit-animation: fadeIn .5s;
        animation: fadeIn .5s
      }
      /* Add animation (fade in the popup) */
      @-webkit-keyframes fadeIn {
        from {opacity: 0;}
        to {opacity: 1;}
      }
      @keyframes fadeIn {
        from {opacity: 0;}
        to {opacity:1 ;}
      }
  body
    div.main
      h1= name
      if (!downloadflag)
        h5
          a(href="popups/download") Download This Html Page
      div
        ul.emoji_list.clear
          each item, index in codesjson
            li
              div.popup(onclick=`copyToClipboard("emoji${index}",String.fromCodePoint(0x${item.replace(/ /g,',0x')}))`)= eval(`String.fromCodePoint(0x${item.replace(/ /g,',0x')})`)
                span.popuptext(id=`emoji${index}`)= eval(`String.fromCodePoint(0x${item.replace(/ /g,',0x')})`) + " Copied"
      div.helps
        strong Reference：
        br
        span Emoji Set：
          a(href=link, target="_blank")
            b= name
        br
        span Emojis Count： #{codesjson.length}

      div.footer
        if (!downloadflag)
          a(href="javascript:history.back();") BACK TO LAST PAGE
        else
          span Generated by 
            b= title
    script.
      let oldPopup = undefined;

      function copyToClipboard(id, value) {
        navigator.clipboard.writeText(value);
        if (oldPopup !== undefined) oldPopup.classList.toggle("show"); 
        var popup = document.getElementById(id);
        popup.classList.toggle("show");
        oldPopup = popup
        // alert("Copied: " + id + value);
      }

      function copyToClipboardByCommand(id)
      {
        var r = document.createRange();
        r.selectNode(document.getElementById(id));
        window.getSelection().removeAllRanges();
        window.getSelection().addRange(r);
        document.execCommand('copy');
        window.getSelection().removeAllRanges();
      }